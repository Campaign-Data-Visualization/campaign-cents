<!DOCTYPE html>
<html ng-app="myApp">
<head>
  <meta charset='utf8'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width">
  <title>CampaignCents</title>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <link rel="stylesheet" href="/styles/app.css"/>
</head>
  <body class="body" ng-controller='adminController'>
    <div style='padding: 50px;' class='container text-center'>
      <div class='panel panel-info'>
        <div class='panel-heading'>
          <h1>KochTracker Admin Tool</h1>
        </div>
        <div class='panel-body'>
          <div messages id='messages'></div>
          <div class='row col-lg-offset-3 col-lg-6 well '>
            This will load data from the google docs and maps into the KochTracker website. Use the select box below to choose which data to update (or leave to 'All Data'), then press the 'Update the Data!' button.
          </div>
          <div class='row'>
            <div ng-if='success' class='alert alert-success col-lg-offset-4 col-lg-4 text-left'>
              <h4>Success!</h4>
              Updated:
              <ul>
                <li ng-repeat='(key, count) in counts'>{{count}} {{key}}</li>
              </ul>
            </div>
          </div>
          <div ng-hide='progress' class='row text-center'>
            <div class='col-lg-offset-4 col-lg-4 form-group text-left'>
             <label class="control-label">Choose data to update</label>

              <select ng-model='whichData' class='form-control'>
                <option selected value='all'>All Data Sources</option>
                <option ng-repeat='datatype in dataTypes' value='{{datatype.action}}'>{{datatype.niceName}}</option>
              </select>
            </div>
            <p class='col-lg-12'>
              <button ng-hide='progress' ng-click='updateAllData()' class='btn btn-primary btn-lg '>Update the Data!</button>
            </p>         
          </div>
          <div class='row'>
            <p class='col-lg-offset-3 col-lg-6 text-center'>
              <progressbar ng-show='progress' class="progress-striped active" animate='true' value="progress">{{message}}</progressbar>
             </p>
          </div>
        </div>
      </div>
    </div>
    <script src="/lib/angular/angular.js"></script>
    <script src="/lib/angular-bootstrap/ui-bootstrap-tpls.js"></script>
    <script src="/lib/angular-ui-router/release/angular-ui-router.js"></script>
    <script src="app.js"></script>
    <script src="/common/factories.js"></script>
    <script src="/common/services.js"></script>
    <script src="/common/directives.js"></script>

    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>


    </body>
</html>
